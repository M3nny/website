<script>import GeneralObserver from "./general-observer.svelte";
export let width = "100%";
export let height = "500px";
export let id = "";
export let view = "default";
export let clickToLoad = true;
export let hideNavigation = false;
export let hideExplorer = true;
export let theme = "dark";
export let file;
export let disable_observer = false;
export let iframe_styles = `
		height: ${height};
		width: ${width};
	`;
let baseUrl = `https://stackblitz.com/edit/${id}?embed=1`;
const config = {
    ctl: `${clickToLoad ? 1 : 0}`,
    hideExplorer: `${hideExplorer ? 1 : 0}`,
    hideNavigation: `${hideNavigation ? 1 : 0}`,
    theme
};
if (view !== "default") {
    config["view"] = view;
}
if (file) {
    config["file"] = file;
}
const queryString = new URLSearchParams(config);
const src = `${baseUrl}&${queryString.toString()}`;
</script>

<GeneralObserver {disable_observer}>
	<iframe
		class="stackblitz-sveltekit-embed"
		title={`stackblitz-${id}`}
		{src}
		frameborder="no"
		allowfullscreen
		style={iframe_styles}
	/>
</GeneralObserver>
